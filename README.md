# Time Tracker Go

è»½é‡ã§é«˜é€ŸãªmacOSå‘ã‘ã‚¿ã‚¤ãƒ ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

## æ¦‚è¦

Time Tracker Goã¯ã€Tauri 2.xãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ç”¨ã—ãŸãƒ­ãƒ¼ã‚«ãƒ«å®Œçµå‹ã®ã‚¿ã‚¤ãƒ ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚ãƒ‡ãƒ¼ã‚¿ã¯ã™ã¹ã¦ãƒ­ãƒ¼ã‚«ãƒ«ã®SQLiteãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ã•ã‚Œã€å¤–éƒ¨ã¨ã®é€šä¿¡ã¯è¡Œã„ã¾ã›ã‚“ã€‚

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Tauri 2.xï¼ˆ2024å¹´10æœˆå®‰å®šç‰ˆï¼‰
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: Rust
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: React + TypeScript
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: SQLiteï¼ˆã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ï¼‰
- **é–‹ç™ºæ‰‹æ³•**: DDDï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆï¼‰+ TDDï¼ˆãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºï¼‰
- **ãƒ†ã‚¹ãƒˆ**: Vitest + React Testing Library + Playwright

### ä¸»è¦æ©Ÿèƒ½

- âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ/ã‚¿ã‚¹ã‚¯ã®ä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤
- âœ… éšå±¤æ§‹é€ ã¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†ï¼ˆactive/archivedï¼‰
- ğŸš§ ã‚¿ã‚¤ãƒ ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ï¼ˆé–‹å§‹/åœæ­¢/è¨ˆæ¸¬ï¼‰
- ğŸš§ ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆæ©Ÿèƒ½
- ğŸš§ ã‚¿ã‚°æ©Ÿèƒ½

## ç’°å¢ƒæ§‹ç¯‰

### å¿…è¦ãªä¾å­˜é–¢ä¿‚

1. **Rust**ï¼ˆæœ€æ–°å®‰å®šç‰ˆï¼‰
```bash
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y
source ~/.cargo/env
```

2. **Node.js**ï¼ˆv18ä»¥ä¸Šï¼‰
```bash
brew install node
```

3. **ImageMagick**ï¼ˆã‚¢ã‚¤ã‚³ãƒ³ç”Ÿæˆç”¨ï¼‰
```bash
brew install imagemagick
```

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

1. **ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³**
```bash
git clone https://github.com/tonosama/time_tracking.git
cd time_tracking
```

2. **ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
```bash
# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ä¾å­˜é–¢ä¿‚
npm install

# Rustä¾å­˜é–¢ä¿‚ï¼ˆåˆå›ãƒ“ãƒ«ãƒ‰æ™‚ã«è‡ªå‹•å®Ÿè¡Œï¼‰
```

3. **ã‚¢ã‚¤ã‚³ãƒ³ä½œæˆ**ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
```bash
cd src-tauri/icons
magick -size 32x32 xc:"rgba(70,130,180,1)" \
  -fill "rgba(255,255,255,1)" \
  -stroke "rgba(255,255,255,1)" \
  -strokewidth 2 \
  -draw "circle 16,16 16,6" \
  -strokewidth 1 \
  -draw "line 16,16 16,8" \
  -draw "line 16,16 22,16" \
  -fill "rgba(255,255,255,1)" \
  -draw "circle 16,16 16,14" \
  PNG32:icon.png
cd ../..
```

## é–‹ç™º

### é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•

```bash
# Tauriã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæ¨å¥¨ï¼‰
npm run tauri:dev

# ã¾ãŸã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã¿
npm run dev
```

- **Tauriã‚¢ãƒ—ãƒª**: ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒè‡ªå‹•ã§é–‹ãã¾ã™
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã¿**: http://localhost:1420 ã§ã‚¢ã‚¯ã‚»ã‚¹

### ãƒ“ãƒ«ãƒ‰

```bash
# é–‹ç™ºãƒ“ãƒ«ãƒ‰
npm run build

# ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰
npm run tauri:build
```

### ãƒ†ã‚¹ãƒˆ

```bash
# Unit/Integrationãƒ†ã‚¹ãƒˆ
npm test

# Unit/Integrationãƒ†ã‚¹ãƒˆï¼ˆUIãƒ¢ãƒ¼ãƒ‰ï¼‰
npm run test:ui

# E2Eãƒ†ã‚¹ãƒˆï¼ˆPlaywrightãŒå¿…è¦ï¼‰
npm run test:e2e

# E2Eãƒ†ã‚¹ãƒˆï¼ˆUIãƒ¢ãƒ¼ãƒ‰ï¼‰
npm run test:e2e:ui

# Rustãƒ†ã‚¹ãƒˆ
cd src-tauri && cargo test
```

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

#### 1. ã‚¢ã‚¤ã‚³ãƒ³ã‚¨ãƒ©ãƒ¼: "icon is not RGBA"

**ç—‡çŠ¶**: Tauriã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ã‚¢ã‚¤ã‚³ãƒ³å½¢å¼ã‚¨ãƒ©ãƒ¼

**è§£æ±ºç­–**:
```bash
cd src-tauri/icons
rm -f icon.png
# ä¸Šè¨˜ã®ImageMagickã‚³ãƒãƒ³ãƒ‰ã§RGBAå½¢å¼ã‚¢ã‚¤ã‚³ãƒ³ã‚’å†ä½œæˆ
```

#### 2. ãƒ—ãƒ­ã‚»ã‚¹å¼·åˆ¶çµ‚äº†

**Tauriãƒ—ãƒ­ã‚»ã‚¹ãŒæ®‹ã£ã¦ã—ã¾ã£ãŸå ´åˆ**:
```bash
pkill -f "tauri|cargo.*tauri|vite|time-tracker-go"
```

#### 3. "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ"

**ç—‡çŠ¶**: UIä¸Šã«ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º

**èª¬æ˜**: åˆæœŸçŠ¶æ…‹ã§ã¯æ­£å¸¸ã§ã™ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒç©ºã®ãŸã‚ï¼‰

**è§£æ±ºç­–**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ©Ÿèƒ½ã®å®Ÿè£…å®Œäº†å¾Œã«è§£æ¶ˆã•ã‚Œã¾ã™

#### 4. ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒé–‹ã‹ãªã„

**ç¢ºèªæ–¹æ³•**:
1. macOSã®Dockã§é’ã„æ™‚è¨ˆã‚¢ã‚¤ã‚³ãƒ³ã‚’ç¢ºèª
2. `Command + Tab`ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åˆ‡ã‚Šæ›¿ãˆ
3. ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:1420 ã«ã‚¢ã‚¯ã‚»ã‚¹

#### 5. Playwright E2Eãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼

**åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**:
```bash
npx playwright install
```

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
time_tracking/
â”œâ”€â”€ src/                        # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆReact/TypeScriptï¼‰
â”‚   â”œâ”€â”€ components/             # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â””â”€â”€ projects/          # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ types/                 # TypeScriptå‹å®šç¾©
â”‚   â””â”€â”€ styles/                # CSS
â”œâ”€â”€ src-tauri/                  # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆRustï¼‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ domain/            # ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ï¼ˆDDDï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ entities/      # ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
â”‚   â”‚   â”‚   â”œâ”€â”€ value_objects/ # å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ repositories/  # ãƒªãƒã‚¸ãƒˆãƒªãƒˆãƒ¬ã‚¤ãƒˆ
â”‚   â”‚   â”‚   â””â”€â”€ services/      # ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”‚   â”œâ”€â”€ application/       # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤
â”‚   â”‚   â”‚   â”œâ”€â”€ use_cases/     # ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹
â”‚   â”‚   â”‚   â”œâ”€â”€ dto/           # ãƒ‡ãƒ¼ã‚¿è»¢é€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
â”‚   â”‚   â”‚   â””â”€â”€ services/      # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”‚   â”œâ”€â”€ infrastructure/    # ã‚¤ãƒ³ãƒ•ãƒ©å±¤
â”‚   â”‚   â”‚   â”œâ”€â”€ database/      # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š
â”‚   â”‚   â”‚   â””â”€â”€ repositories/  # ãƒªãƒã‚¸ãƒˆãƒªå®Ÿè£…
â”‚   â”‚   â””â”€â”€ presentation/      # ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤
â”‚   â”‚       â””â”€â”€ commands/      # Tauriã‚³ãƒãƒ³ãƒ‰
â”‚   â”œâ”€â”€ icons/                 # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ã‚¤ã‚³ãƒ³
â”‚   â””â”€â”€ Cargo.toml            # Rustä¾å­˜é–¢ä¿‚
â”œâ”€â”€ tests/                     # ãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ unit/                  # å˜ä½“ãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ integration/           # çµåˆãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ e2e/                   # E2Eãƒ†ã‚¹ãƒˆï¼ˆPlaywrightï¼‰
â”œâ”€â”€ database/                  # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â””â”€â”€ migrations/           # ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³SQL
â””â”€â”€ doc/                       # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
    â”œâ”€â”€ design_doc_time_tracker_go.md  # è¨­è¨ˆæ–‡æ›¸
    â””â”€â”€ backlog/              # ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒãƒƒã‚¯ãƒ­ã‚°
```

### DDDã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```mermaid
graph TD
    A[Presentation Layer<br>Tauri Commands] --> B[Application Layer<br>Use Cases]
    B --> C[Domain Layer<br>Entities & Services]
    B --> D[Infrastructure Layer<br>Database & Repositories]
    C --> D
```

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

### ç‰¹å¾´

- **ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«**: UPDATE/DELETEãªã—ã€INSERT-onlyã§å±¥æ­´ç®¡ç†
- **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ/ã‚¿ã‚¹ã‚¯ã®å¤‰æ›´å±¥æ­´ã‚’ä¿æŒ
- **ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•**: ã‚¿ã‚¤ãƒ ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã¯ã‚¤ãƒ™ãƒ³ãƒˆã®ç•³ã¿è¾¼ã¿ã§çŠ¶æ…‹å°å‡º

### ã‚¹ã‚­ãƒ¼ãƒ

- `projects` / `project_versions`: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†
- `tasks` / `task_versions`: ã‚¿ã‚¹ã‚¯ç®¡ç†
- `time_entry_events`: ã‚¿ã‚¤ãƒ ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã‚¤ãƒ™ãƒ³ãƒˆ
- `tags` / `task_tag_events`: ã‚¿ã‚°ç®¡ç†

è©³ç´°ã¯ `doc/design_doc_time_tracker_go.md` ã‚’å‚ç…§

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

## è²¢çŒ®

1. Fork the repository
2. Create feature branch (`git checkout -b feature/amazing-feature`)
3. Commit changes (`git commit -m 'Add amazing feature'`)
4. Push to branch (`git push origin feature/amazing-feature`)
5. Open Pull Request

---

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 0.1.0  
**ä½œæˆè€…**: tonosama  
**æœ€çµ‚æ›´æ–°**: 2025-08-09